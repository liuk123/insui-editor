@if (!floatingToolbar && editorLoaded()) {
  <ins-toolbar-host [disabled]="!interactive()">
    <ins-toolbar [tools]="tools" (fileAttached)="fileAttached.emit($event)">
      <ng-content select="tools" />
    </ins-toolbar>
  </ins-toolbar-host>
}

<div
  insDropdownDirection="bottom"
  insDropdownLimitWidth="auto"
  insTiptapEditor
  class="ins-editor-socket"
  [attr.data-contenteditable]="interactive()"
  [editable]="interactive()"
  [insDropdown]="dropdownTemp"
  [insToolbarDropdown]="dropdownSelectionHandler"
  [insToolbarDropdownPosition]="floatingToolbar ? 'selection' : 'tag'"
  (valueChange)="onModelChange($event)"
></div>

<ins-editor-socket />

<ng-template #dropdownTemp>
  @if (floatingToolbar) {
    @if (isFloatMenu) {
      <ins-toolbar-host [disabled]="!interactive()">
        <ins-float-menu></ins-float-menu>
      </ins-toolbar-host>
    }@else {
      <ins-toolbar-host [disabled]="!interactive()">
        <!-- <ins-toolbar  [tools]="tools" (fileAttached)="fileAttached.emit($event)">
          <ng-content select="tools" />
        </ins-toolbar> -->
        <ins-bubble-menu></ins-bubble-menu>
      </ins-toolbar-host>
      @if (isLinkSelected) {
        <ins-edit-link
          #link
          insEditorRootEditLink
          (addLink)="link.anchorMode ? addAnchor($event) : addLink($event); closeDropdown()"
          (removeLink)="link.anchorMode ? removeAnchor() : removeLink(); closeDropdown()"
        ></ins-edit-link>
      }
    }
  }

  <ng-container
    *polymorpheusOutlet="insDropdownOpen?.insDropdownOpen() ? dropdownContent : null as text"
  >
    {{ text }}
  </ng-container>
</ng-template>

@if (editorLoaded()) {
  <ins-drag-handle [dropdownContent]="dragHandle"></ins-drag-handle>
}


<ng-template #dragHandle>123
  <ins-data-list>
    <!-- @for (item of menuItems(); track item.label) {
      <button insOption (click)="onMenuAction(item.action)">
        {{ item.label }}
      </button>
    } -->
  </ins-data-list>
</ng-template>